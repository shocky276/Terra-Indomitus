namespace = aos_country_province_events
#省份叛乱事件
aos_country_province_events.1 = { #不忠省份
	type = country_event
	title = "aos_country_province_events.1.t"
	desc = "aos_country_province_events.1.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:disloyalty_province.governor
	
	goto_location = scope:disloyalty_province

	trigger = {
		is_ai = no
		num_of_cities > 150
		any_owned_province = {
			state_loyalty < 5
			NOT = {
				has_province_modifier = suppress_rebellion_state_buff
			}
		}
	}

	immediate = {
		random_owned_province = {
			limit = {
				state_loyalty < 5
				NOT = {
					has_province_modifier = suppress_rebellion_state_buff
				}
			}
			save_scope_as = disloyalty_province
		}
	}

	option = {
		name = "aos_country_province_events.1.a"
		trigger = {
			current_ruler = {
				NOR = {
					has_trait = cruel
					has_trait = silver_tongued
					has_trait = orator
				}
			}
			is_ai = no
		}
		add_treasury = { -100 -300 }
		add_manpower = -10
		add_political_influence = { -3 -8 }
		scope:disloyalty_province.governor = {
			add_loyalty = aos_loyalty_adopt_suggestion
		}
		scope:disloyalty_province = {
			add_state_loyalty = 10.0
		}
		scope:disloyalty_province.state = {
			add_state_modifier = {
				name = suppress_rebellion_state_buff
				duration = 1825
			}
		}
	}

	option = {
		name = "aos_country_province_events.1.b"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = silver_tongued
					has_trait = orator
				}
			}
			is_ai = no
		}
	}

	option = {
		name = "aos_country_province_events.1.c"
		scope:disloyalty_province.governor = {
			add_loyalty = aos_loyalty_suggestion_be_perfunctory
		}
	}

	option = {
		name = "aos_country_province_events.1.d"
		trigger = {
			current_ruler = {
				has_trait = cruel
			}
			is_ai = no
		}
		add_treasury = { -50 -100 }
		add_manpower = -10
		add_tyranny = 10
		add_political_influence = { -3 -8 }
		scope:disloyalty_province.governor = {
			add_loyalty = aos_loyalty_adopt_suggestion
		}
		scope:disloyalty_province = {
			add_state_loyalty = 20.0
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
		}
		scope:disloyalty_province.state = {
			add_state_modifier = {
				name = suppress_rebellion_state_buff
				duration = 5475
			}
		}
	}

	option = {
		name = "aos_country_province_events.1.e"
		trigger = {
			current_ruler = {
				has_trait = cruel
			}
			is_ai = no
		}
		add_treasury = { -50 -100 }
		add_manpower = -10
		add_tyranny = 15
		add_political_influence = { -3 -8 }
		scope:disloyalty_province.governor = {
			death = {
				death_reason = death_execution
			}
		}
		scope:disloyalty_province = {
			add_state_loyalty = 20.0
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
		}
		scope:disloyalty_province.state = {
			add_state_modifier = {
				name = suppress_rebellion_state_buff
				duration = 5475
			}
		}
	}
}

#黄河泛滥
aos_country_province_events.2 = {
	type = country_event
	title = "aos_country_province_events.2.t"
	desc = "aos_country_province_events.2.desc"

	left_portrait = current_ruler
	right_portrait = scope:huanghe_governor

	trigger = {
		exists = scope:huanghe_province.governor
		exists = scope:huanghe_province.state
		any_owned_province = {
			OR = {
				is_in_area = bohai_area
				is_in_area = pingyuan_area
				is_in_area = qinghe_area
				is_in_area = wei_area
				is_in_area = dong_area
				is_in_area = henei_area
				is_in_area = daliang_area
				is_in_area = henan_area
			}
		}
	}

	immediate = {
		ordered_owned_province = {
			limit = {
				OR = {
					is_in_area = bohai_area
					is_in_area = pingyuan_area
					is_in_area = qinghe_area
					is_in_area = wei_area
					is_in_area = dong_area
					is_in_area = henei_area
					is_in_area = daliang_area
					is_in_area = henan_area
				}
				NOR = {
					has_province_modifier = aos_heshuifanlan_modifier
					has_variable = has_huanghedadi
				}
			}
			save_scope_as = huanghe_province
		}
	}

	option = {
		name = "aos_country_province_events.2.a"
		add_manpower = { -2 -5 }
		add_treasury = { -100 -200 }
		add_tyranny = -5
		add_political_influence = { -3 -6 }
		add_stability = { 2 8 }
		scope:huanghe_province.governor = {
			add_loyalty = aos_loyalty_adopt_suggestion
		}
		scope:huanghe_province.state = {
			add_state_modifier = {
				name = aos_heshuifanlan_modifier
				duration = 100
			}
		}
		scope:huanghe_province = {
			add_state_loyalty = 10.0
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
		}
	}

	option = {
		name = "aos_country_province_events.2.b"
		add_manpower = { -5 -12 }
		add_treasury = { -300 -500 }
		add_tyranny = -12
		add_stability = { 10 20 }
		add_political_influence = { 5 15 }
		scope:huanghe_province.governor = {
			add_loyalty = aos_loyalty_adopt_suggestion
		}
		scope:huanghe_province.state = {
			add_state_modifier = {
				name = aos_heshuifanlan_modifier
				duration = 60
			}
		}
		scope:huanghe_province = {
			add_state_loyalty = 20.0
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			set_variable = {
				name = has_huanghedadi
				days = 5475
			}
		}
	}

	option = {
		name = "aos_country_province_events.2.c"
		add_tyranny = 8
		add_stability = { -10 -25 }
		scope:huanghe_province.governor = {
			add_loyalty = aos_loyalty_suggestion_be_perfunctory
		}
		scope:huanghe_province.state = {
			add_state_modifier = {
				name = aos_heshuifanlan_modifier
				duration = 360
			}
		}
		scope:huanghe_province = {
			add_state_loyalty = -40.0
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
		}
	}

	option = {
		name = "aos_country_province_events.2.d"
		add_manpower = { -1 -2 }
		add_treasury = { -40 -70 }
		add_political_influence = { -2 -5 }
		add_stability = { 1 5 }
		scope:huanghe_province.state = {
			add_state_modifier = {
				name = aos_heshuifanlan_modifier
				duration = 120
			}
		}
		scope:huanghe_province = {
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
		}
	}

	option = {
		name = "aos_country_province_events.2.e"
		trigger = {
			current_ruler = {
				has_trait = cruel
			}
		}
		add_stability = { -15 -30 }
		add_treasury = { 200 600 }
		scope:huanghe_province.state = {
			add_state_modifier = {
				name = aos_heshuifanlan_modifier
				duration = 730
			}
		}
		scope:huanghe_province = {
			add_state_loyalty = -75
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
			random_pops_in_province = {
				limit = {
					OR = {
						pop_type = slaves
						pop_type = freemen
						pop_type = tribesmen
					}
				}
				kill_pop = yes
			}
		}
	}
}

aos_country_province_events.3 = {
	type = country_event
	hidden = yes

	trigger = {
		any_owned_province = {
			OR = {
				is_in_area = bohai_area
				is_in_area = pingyuan_area
				is_in_area = qinghe_area
				is_in_area = wei_area
				is_in_area = dong_area
				is_in_area = henei_area
				is_in_area = daliang_area
				is_in_area = henan_area
			}
		}
	}

	immediate = {
		trigger_event = {
			id = aos_country_province_events.2
			days = { 170 250 }
		}
	}
}

namespace = aos_corrupt_governor_events
aos_corrupt_governor_events.1 = {
	type = country_event
	title = "aos_corrupt_governor_events.1.t"
	desc = "aos_corrupt_governor_events.1.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:corrupt_governor

	trigger = {
		is_ai = no
		any_character = {
			is_governor = yes
			corruption > 75
		}
	}

	immediate = {
		random_country = {
			limit = {
				is_ai = no
			}
			random_character = {
				limit = {
					is_governor = yes
					corruption > 75
				}
				save_scope_as = corrupt_governor
			}
		}
	}

	option = {
		name = "aos_corrupt_governor_events.1.a"
		scope:corrupt_governor = {
			add_loyalty = loyalty_governor_removed
			remove_all_positions = yes
		}
	}

	option = {
		name = "aos_corrupt_governor_events.1.b"
		trigger = {
			is_ai = no
		}
		scope:corrupt_governor = {
			add_loyalty = loyalty_governor_removed
			remove_all_positions = yes
			root = {
				imprison = {
					target = scope:corrupt_governor
				}
			}
		}
	}

	option = {
		name = "aos_corrupt_governor_events.1.c"
		trigger = {
			current_ruler = {
				has_trait = cruel
			}
			is_ai = no
		}
		scope:corrupt_governor = {
			death = {
				death_reason = death_execution
			}
		}
		add_tyranny = 3
	}
}